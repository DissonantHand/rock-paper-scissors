<!DOCTYPE html>
<html>
<head>
  <title>Rock Paper Scissors</title>
</head>
<body>
  <script>
        function computerPlay(){
            let computerRand = Math.floor(3*Math.random());
            switch (computerRand) {
                case 0:
                return 'rock';
                break;

                case 1:
                return 'paper';
                break;

                case 2:
                return 'scissors';
                break;
            }
        }
            
        function playRound(playerSelection, computerSelection) {
            if(playerSelection == 'rock') {
                switch(computerSelection) {
                    case 'rock' :
                    return 'Draw! Rock ties with rock';
                    break;

                    case 'paper':
                    return 'You lose! Paper beats rock';
                    break;

                    case 'scissors':
                    return 'You win! Rock beats scissors';
                    break;
                    }
            } else if(playerSelection =='paper') {
                    switch(computerSelection) {
                        case 'rock':
                        return 'You win! Paper beats rock';
                        break;

                        case 'paper':
                        return 'Draw! Paper ties with paper';
                        break;

                        case 'sciossors': 
                        return 'You lose! Scissors beat paper';
                        break;
                    }
            } else if(playerSelection =='scissors') {
                    switch(computerSelection) {
                        case 'rock': 
                        return 'You lose! Rock beats scissors';
                        break;

                        case 'paper': 
                        return 'You win! Scissors beat paper';
                        break;

                        case 'scissors': 
                        return 'Tie! Scissors tie with scissors';
                        break;
                    }
            } else {
                return 'Whoops! Something went wrong!'
                }
                    
        }

        function game() {
            let playerWins = 0;
            let computerWins = 0;
            for(let i=0; i<5; i++){
                let playerSelection = prompt('Rock, Paper or Scissors?').toLowerCase();
                let computerSelection = computerPlay();
                let result = playRound(playerSelection,computerSelection);
                console.log(result);
                if (result.indexOf('win') > 0 ) {
                    playerWins++;
                } else if (result.indexOf('lose') > 0){
                    computerWins++;
                } else continue;

            }
            if (playerWins > computerWins){
                alert('You win! Congratulations!');
            } else if(computerWins > playerWins) {
                alert('You lose! Better luck next time!');
            } else{
                alert('Draw! Rematch?');
            }
        }
  </script>
</body>
</html>